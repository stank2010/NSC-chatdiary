(this["webpackJsonptesting-01"]=this["webpackJsonptesting-01"]||[]).push([[0],{41:function(e,t,a){e.exports=a.p+"static/media/Capture.d43261b1.png"},45:function(e,t,a){e.exports=a(76)},50:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(18),o=a.n(s),l=(a(50),a(51),a(52),a(30),a(2)),i=a(3),c=a(5),m=a(4),p=a(6),u=a(10),d=a(17),h=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("nav",{className:"navbar navbar-light bg-light"},r.a.createElement("span",{className:"navbar-brand mb-0 h1"},r.a.createElement(u.b,{to:"/mainPage"},r.a.createElement("span",{className:"fas fa-home"}),"Main")),r.a.createElement("span",{className:"nav-item justify-content-end"},r.a.createElement(u.b,{to:"/profile"},r.a.createElement("span",{className:"fas fa-user"})," Profile")))}}]),t}(n.Component),_=a(41),b=a.n(_),f=a(7),v=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={username:""==a.props.valFromStore.U_name?"(not loging in)":a.props.valFromStore.U_name,email:""==a.props.valFromStore.U_pass?"email":a.props.valFromStore.U_email,status:"Single"},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body "},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-4"},r.a.createElement("img",{className:"float-right",style:{width:100,height:161},src:b.a,alt:"Hello"})),r.a.createElement("div",{className:"col-8"},r.a.createElement("h3",null,this.state.username),r.a.createElement("p",null,this.state.email),r.a.createElement("p",null,"<"+this.state.status+">"," ")))))}}]),t}(n.Component),y=Object(f.b)((function(e){return{valFromStore:e.user}}),null)(v),E=(n.Component,a(44)),g=a(14),D=a.n(g),j=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={user:{U_name:"Hello",U_pass:"password",U_email:"email",U_myDiary:[{D_id:0,D_auther:"sank",D_name:"Journal",D_object:[{obj_id:0,pos:{x:1,y:1},type:"chat",data:{Name:"object 1",data:[]}},{obj_id:1,pos:{x:2.1052627563476562,y:-196.8947296142578},type:"chat",data:{Name:"object 2",data:[]}},{obj_id:2,pos:{x:1,y:-395.8421173095703},type:"chat",data:{Name:"object 3",data:[]}}]}]},Diary:{}},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.valFromStore;D.a.defaults.baseURL="https://us-central1-my-diary-fbs.cloudfunctions.net/app",D.a.post("/allDiary/"+t.user.U_name).then((function(t){var a=e.state.user;a.U_myDiary=Object(E.a)(t.data),e.setState({user:a}),console.log(t.data)})),console.log("list from firebase",this.state)}},{key:"UpdateStore",value:function(e){this.props.edite_state.bind(this,{Diary:e})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h5",null,"My Diary",r.a.createElement("div",{className:"float-right"},r.a.createElement(u.b,{to:{pathname:"/editDiary",Diary:{D_id:"",D_auther:"",D_name:"",D_object:[]}},onClick:this.props.edite_state.bind(this,{Diary:{D_id:"",D_auther:"",D_name:"",D_object:[]}})},r.a.createElement("span",{className:"fas fa-plus"}),"Add")))),r.a.createElement("div",{className:"card-body"},this.state.user.U_myDiary.map((function(t,a){return r.a.createElement("div",null,r.a.createElement(u.b,{to:{pathname:"/editDiary",Diary:t},onClick:e.props.edite_state.bind(e,{Diary:t})},r.a.createElement("span",{className:"fas fa-file"}),r.a.createElement("label",null,t.D_name)))}))),r.a.createElement("div",{className:"card-footer"},r.a.createElement("div",{className:"float-right"},r.a.createElement("button",{className:"btn btn-danger float-right",onClick:function(){}},"Delete"))))}}]),t}(n.Component),U=Object(f.b)((function(e){return{valFromStore:e}}),(function(e){return{edite_state:function(t){return e({type:"update_state",payload:t})}}}))(j),N=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(h,null),r.a.createElement(y,null),r.a.createElement(U,null))}}]),t}(n.Component),O=Object(f.b)((function(e){return{valFromStore:e.user}}),null)(N),S=a(23);function w(e){for(var t=e.split("\n"),a=t[0].split(" ")[2],n=[],r=function(e){n.push({date:t[s].split(" ")[1],person:t[e].split("\t")[1],context:t[e].split("\t")[2]})},s=3;s<t.length;s++)for(var o=s+1,l=o;;){if(o==t.length-1||""==t[o]&&("/"==t[o+1][5]||"/"==t[o+1][6])){o!=t.length-1&&r(o-1),s=o;break}""==t[o]&&(t[l]+="\n"+t[o]),":"!=t[o][2]?t[l]+="\n"+t[o]:(r(l),l=o),o++}return{Name:a,data:n}}var x=a(21),C=a(43),k=a.n(C),F=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={activeDrags:0,controlledPosition:{x:a.props.val.pos.x,y:a.props.val.pos.y},id:a.props.val.obj_id,raw_data:a.props.val.data,Di:a.props.valFromStore},a.onStart=function(){a.setState({activeDrags:++a.state.activeDrags})},a.onStop=function(){a.setState({activeDrags:--a.state.activeDrags})},a.onControlledDrag=function(e,t){var n=t.x,r=t.y,s=a.state.Di,o=s.D_object[a.state.id];console.log("ChatBox_Redux",s),o.pos={x:n,y:r},s.D_object[a.state.id]=o,a.props.edite_state.bind(Object(x.a)(a),{Diary:s}),a.setState({controlledPosition:{x:n,y:r}})},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){console.log(this.state),console.log("ChatBox-Redux-Update",this.state.Di)}},{key:"render",value:function(){var e=this,t={onStart:this.onStart,onStop:this.onStop},a=this.state.controlledPosition;return r.a.createElement(k.a,Object.assign({bounds:"parent",position:a,onDrag:this.onControlledDrag,cancel:"ul"},t),r.a.createElement("div",{className:"card",style:"chat"==this.props.val.type?{height:"200px",width:"200px"}:{width:"230px"}},"chat"==this.props.val.type?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"card-header bg-primary text-white",style:{width:"200px"}},this.state.raw_data.Name),r.a.createElement("ul",{className:"card-body overflow-auto"},this.state.raw_data.data.map((function(t,a){return r.a.createElement("div",{className:e.state.raw_data.Name===t.person?"float-left":"float-right",style:{"font-size":"10px",paddingTop:"5px",border:"1px solid #313BB6",width:"100px",borderRadius:"3px"}},t.context)})))):r.a.createElement("ul",{className:"card-body"},r.a.createElement("textarea",{className:"form-control",rows:"5",cols:"35",onChange:function(t){var a=e.state.Di,n=a.D_object[e.state.id];n.data={Name:"",data:t.target.value},a.D_object[e.state.id]=n,e.props.edite_state.bind(e,{Diary:a}),e.setState({raw_data:n}),console.log(e.props.valFromStore)}},this.state.raw_data.data))))}}]),t}(n.Component),P=Object(f.b)((function(e){return{valFromStore:e.Diary}}),(function(e){return{edite_state:function(t){return e({type:"update_state",payload:t})}}}))(F),R=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={D_id:a.props.location.Diary.D_id,D_auther:a.props.location.Diary.D_auther,D_name:a.props.location.Diary.D_name,D_object:a.props.location.Diary.D_object},a.showFile=function(){if(window.File&&window.FileReader&&window.FileList&&window.Blob){var e=document.querySelector("input[type=file]").files[0],t=new FileReader;t.onload=function(e){var t=a.state.D_object;t.push({obj_id:t.length,type:"chat",pos:{x:10,y:10},data:w(e.target.result+"\n")}),a.setState({D_object:t})},t.readAsText(e)}else alert("Your browser is too old to support HTML5 File API")},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentWillUpdate",value:function(){var e=this.props.valFromStore.Diary;e.D_object=this.state.D_object,e.D_id=this.state.D_id,e.D_name=this.state.D_name,this.props.edite_state.bind(this,e),console.log("edite_state",this.state),console.log("edite_Redux",this.props.valFromStore.Diary)}},{key:"saveDiary",value:function(){}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement(u.b,{to:"/mainPage"},"back"),r.a.createElement("button",{className:"btn btn-danger float-right",onClick:function(){console.log("save",e.state);var t=e.props.valFromStore;D.a.defaults.baseURL="https://us-central1-my-diary-fbs.cloudfunctions.net/app",D.a.post("/saveDiary/"+t.user.U_name,Object(S.a)({},t.Diary,{D_id:e.state.D_id,D_name:e.state.D_name,D_auther:t.user.U_name})).then((function(e){console.log(e.data)}))}},"Save")),r.a.createElement("div",{className:"card-body",style:{height:"100vh"}},this.state.D_object.map((function(e,t){return r.a.createElement(P,{val:e,key:t})}))),r.a.createElement("div",{className:"card-footer fixed-bottom"},r.a.createElement("div",{className:"row"},"Name",r.a.createElement("br",null)),r.a.createElement("div",{className:"row"},r.a.createElement("input",{type:"text",className:"form-control",style:{width:"50%"},defaultValue:this.state.D_name,onChange:function(t){e.setState({D_id:t.target.value,D_name:t.target.value})}}),r.a.createElement("button",{className:"btn btn-primary",style:{width:"15%"},onClick:function(){var t=e.state.D_object;t.push({obj_id:t.length,type:"text",pos:{x:10,y:10},data:{Name:"",data:""}}),e.setState({D_object:t})}},r.a.createElement("span",{className:"fas fa-font"})),r.a.createElement("button",{className:"btn btn-primary",style:{width:"15%"},onClick:function(){return document.getElementById("files").click()}},r.a.createElement("span",{className:"fas fa-comment"}),r.a.createElement("input",{id:"files",type:"file",onChange:this.showFile,style:{display:"none"}})))))}}]),t}(n.Component),A=Object(f.b)((function(e){return{valFromStore:e}}),(function(e){return{edite_state:function(t){return e({type:"update_state",payload:{Diary:t}})}}}))(R),B=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={A:10},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"Home"},r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,"This is a index page"),r.a.createElement(u.b,{to:"/mainPage"},"click")))}}]),t}(n.Component),L=(a(75),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={U_name:a.props.valFromStore.U_name,U_pass:a.props.valFromStore.U_pass,U_email:a.props.valFromStore.U_email,temp_name:"",temp_pass:"",temp_email:""},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"U_name_Change",value:function(e){this.setState({temp_name:e.target.value})}},{key:"U_pass_Change",value:function(e){this.setState({temp_pass:e.target.value})}},{key:"U_email_Change",value:function(e){this.setState({temp_email:e.target.value})}},{key:"componentWillUpdate",value:function(){}},{key:"render",value:function(){var e=this,t=this.props.editeUser;return r.a.createElement("div",{className:"Profile"},r.a.createElement(h,null),r.a.createElement("div",{className:"container text-center"},r.a.createElement("h1",{className:"text-primary"},"Profile"),r.a.createElement("h4",null," Welcome ",this.props.valFromStore.U_name," "),r.a.createElement("p",{className:"display-4",style:{fontSize:"2.5rem"}},this.props.valFromStore.U_name),r.a.createElement("hr",null),r.a.createElement("form",{style:{width:"50%",margin:"auto"}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"label-name float-left"},"Name    :"),r.a.createElement("input",{className:"form-control",id:"U_name",type:"text",onChange:this.U_name_Change.bind(this)})),(this.props.valFromStore.U_name,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"label-status float-left"},"Password  :"),r.a.createElement("input",{className:"form-control",type:"text",defaultValue:this.state.U_pass,onChange:this.U_pass_Change.bind(this)}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"label-email float-left"},"Email   :"),r.a.createElement("input",{className:"form-control",id:"U_email",type:"text",defaultValue:this.state.U_email,onChange:this.U_email_Change.bind(this)}))),""==this.props.valFromStore.U_name?r.a.createElement("button",{className:"btn btn-primary",onClick:function(){t({U_name:e.state.temp_name,U_pass:e.state.temp_pass,U_email:e.state.temp_email}),e.setState({U_name:e.state.temp_name,U_pass:e.state.temp_pass,U_email:e.state.temp_email}),D.a.defaults.baseURL="https://us-central1-my-diary-fbs.cloudfunctions.net/app",D.a.post("/addUser",{U_id:e.state.temp_name,U_name:e.state.temp_name,U_pass:e.state.temp_pass,U_email:e.state.temp_email}).then((function(e){console.log(e.data)}))}},"Register"):r.a.createElement("button",{className:"btn btn-primary",onClick:function(){t({U_name:e.state.temp_name,U_pass:e.state.temp_pass,U_email:e.state.temp_email}),e.setState({U_name:e.props.valFromStore.U_name,U_pass:e.props.valFromStore.U_pass,U_email:e.props.valFromStore.U_email}),D.a.post("/addUser",{U_id:e.state.U_name,U_name:e.state.U_name,U_pass:e.state.U_pass,U_email:e.state.U_email}).then((function(e){console.log(e.data)}))}},"Change"),r.a.createElement("button",{onClick:function(){return console.log(e.props.valFromStore)}}," Stank ")))}}]),t}(n.Component)),M=Object(f.b)((function(e){return{valFromStore:e.user}}),(function(e){return{editeUser:function(t){return e({type:"update_state",payload:{user:t}})}}}))(L),H=a(22),T={Diary:{D_id:"",D_auther:"",D_name:" ",D_object:[]},user:{U_name:"",U_pass:"",U_email:"",U_id_diary:[]}},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"update_state":var a=Object(S.a)({},e,{},t.payload);return console.log("Redux-newState",a),a}return e},J=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=Object(H.b)(I);return r.a.createElement(f.a,{store:e},r.a.createElement(u.a,null,r.a.createElement(d.c,null,r.a.createElement(d.a,{exact:!0,path:"/",component:B}),r.a.createElement(d.a,{path:"/mainPage",component:O}),r.a.createElement(d.a,{path:"/editDiary",component:A}),r.a.createElement(d.a,{path:"/profile",component:M}))))}}]),t}(n.Component);o.a.render(r.a.createElement(J,null),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.9a96699f.chunk.js.map